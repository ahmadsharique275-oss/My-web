<!DOCTYPE html>
<html lang="hi">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, interactive-widget=resizes-content">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#1a1a2e" />

  <title>Tense by Er. Sharique</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="icon" href="bam.jpg">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Poppins:wght@400;500;600;700&family=Noto+Sans+Devanagari:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet">

  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: #0f0c29;
      background: -webkit-linear-gradient(to right, #24243e, #302b63, #0f0c29);
      background: linear-gradient(to right, #24243e, #302b63, #0f0c29);
      -webkit-user-select: none;
      user-select: none;
    }
    .font-bungee { font-family: 'Bungee', cursive; }
    .font-hindi { font-family: 'Noto Sans Devana gari', sans-serif; }
    .card {
      background-color: rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
    }
    .btn { transition: all 0.3s ease; }
    .main-menu-btn:hover {
      transform: translateY(-5px) scale(1.05);
      box-shadow: 0 10px 20px rgba(138, 43, 226, 0.25);
    }
    .btn-primary { background: linear-gradient(45deg, #8A2BE2, #4B0082); }
    .btn-secondary { background-color: rgba(255, 255, 255, 0.1); border: 1px solid rgba(255, 255, 255, 0.2); }
    .rules-content, .vocab-content {
      max-height: 70vh;
      overflow-y: auto;
      scrollbar-width: thin;
      scrollbar-color: #8A2BE2 #302b63;
    }
    .tense-main-heading {
      font-family: 'Bungee', cursive;
      font-size: 2rem; color: #fde047;
      text-align: center; padding: 1rem 0;
      margin-bottom: 1rem; border-bottom: 2px solid #8A2BE2;
    }
    .accordion-header {
      width: 100%;
      background: linear-gradient(45deg, rgba(138, 43, 226, 0.3), rgba(75, 0, 130, 0.3));
      border: 1px solid rgba(138, 43, 226, 0.5);
      border-radius: 8px; padding: 1rem; cursor: pointer;
      display: flex; justify-content: space-between; align-items: center;
      transition: background-color 0.3s ease;
    }
    .accordion-header:hover {
        background: linear-gradient(45deg, rgba(138, 43, 226, 0.5), rgba(75, 0, 130, 0.5));
    }
    .accordion-title { color: #f5b971; font-weight: bold; font-size: 1.25rem; }
    .accordion-icon { transition: transform 0.3s ease; color: #f5b971; }
    .accordion-content {
      max-height: 0; overflow: hidden;
      transition: max-height 0.5s ease-out;
      background-color: rgba(0, 0, 0, 0.2);
      border-radius: 0 0 8px 8px;
      border: 1px solid rgba(138, 43, 226, 0.3);
      border-top: none; padding: 0 1.5rem;
    }
    .accordion-content.open { padding: 1.5rem; }
    .accordion-header.active .accordion-icon { transform: rotate(180deg); }
    /* Increased font size for tense chart details */
    .tense-details p, .tense-details li { font-size: 1.1rem; line-height: 1.8; }
    .tense-details code { font-size: 1rem; padding: 4px 8px; }
    .quiz-option { border: 2px solid transparent; transition: all 0.3s ease; }
    .quiz-option:hover { border-color: #8A2BE2; }
    .quiz-option.correct { background-color: #22c55e !important; color: white; border-color: #16a34a !important; }
    .quiz-option.incorrect { background-color: #ef4444 !important; color: white; border-color: #dc2626 !important; }
  </style>
</head>

<body class="text-white flex items-center justify-center min-h-screen p-4">

  <div id="app-container" class="w-full max-w-5xl mx-auto">

    <div id="home-screen">
      <div class="text-center">
        <div class="w-32 h-32 mx-auto mb-4 flex items-center justify-center rounded-full border-4 border-violet-400 shadow-lg animate-pulse">
          <i class="fa-solid fa-book-open text-6xl text-amber-300"></i>
        </div>
        <h1 class="font-bungee text-5xl md:text-6xl text-amber-300 tracking-wider" style="text-shadow: 3px 3px 10px rgba(0,0,0,0.7);">
          Tense by Er. Sharique
        </h1>
        <p class="text-gray-300 mt-2 mb-10 text-lg">Master English Tenses!</p>
        <div class="space-y-5 max-w-sm mx-auto">
          <button id="start-rules-btn" class="w-full py-4 text-xl font-bold rounded-lg shadow-lg btn btn-primary main-menu-btn flex items-center justify-center gap-3"><i class="fa-solid fa-book-sparkles"></i> Tense Chart</button>
          <button id="start-vocab-btn" class="w-full py-4 text-xl font-bold rounded-lg shadow-lg btn btn-primary main-menu-btn flex items-center justify-center gap-3"><i class="fa-solid fa-spell-check"></i> Vocabulary</button>
          <button id="start-practice-btn" class="w-full py-4 text-xl font-bold rounded-lg shadow-lg btn btn-primary main-menu-btn flex items-center justify-center gap-3"><i class="fa-solid fa-gamepad"></i> Practice Mode</button>
          <button id="start-quiz-btn" class="w-full py-4 text-xl font-bold rounded-lg shadow-lg btn btn-primary main-menu-btn flex items-center justify-center gap-3"><i class="fa-solid fa-file-circle-question"></i> Quiz Mode</button>
        </div>
      </div>
    </div>

    <div id="practice-screen" class="hidden">
        <button class="back-btn mb-4 btn btn-secondary px-4 py-2 rounded-lg flex items-center gap-2"><i class="fa-solid fa-arrow-left"></i> Back</button>
        <div class="card rounded-2xl shadow-2xl p-6 md:p-8 text-center">
            <h2 class="text-4xl font-bungee text-amber-300 tracking-wider mb-2" style="text-shadow: 2px 2px 5px rgba(0,0,0,0.5);">Practice Mode</h2>
            <div class="text-xl mb-4 text-white">Score: <span id="practice-score" class="font-bold text-violet-300">0</span></div>
            <div class="space-y-6">
                <div class="bg-gray-800 p-4 rounded-lg shadow-inner">
                    <p id="practice-hindi-text" class="text-xl md:text-2xl text-violet-300 font-hindi">प्रश्न यहाँ आएगा...</p>
                </div>
                <div id="hard-word-display" class="hidden bg-gray-900 bg-opacity-50 p-3 rounded-lg text-base text-left border border-gray-700"></div>
                <input type="text" id="practice-input" placeholder="English translation..." class="w-full p-4 bg-gray-900 border-2 border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500 text-lg">
                <div id="practice-feedback" class="text-lg font-bold h-12"></div>
                <button id="practice-submit-btn" class="w-full py-4 text-xl font-bold rounded-lg shadow-lg btn btn-primary">Check Answer</button>
            </div>
        </div>
    </div>

    <div id="quiz-screen" class="hidden">
        <button class="back-btn mb-4 btn btn-secondary px-4 py-2 rounded-lg flex items-center gap-2"><i class="fa-solid fa-arrow-left"></i> Back</button>
        <div id="quiz-container" class="card rounded-2xl shadow-2xl p-6 md:p-8 text-center"></div>
    </div>

    <div id="vocab-screen" class="hidden">
        <button class="back-btn mb-4 btn btn-secondary px-4 py-2 rounded-lg flex items-center gap-2"><i class="fa-solid fa-arrow-left"></i> Back</button>
        <div class="card rounded-2xl shadow-2xl p-6 md:p-8">
            <h2 class="text-3xl font-bold mb-6 text-center text-amber-300 font-hindi">शब्दकोश (Vocabulary)</h2>
            <div class="relative mb-6">
                <input type="text" id="vocab-search" placeholder="Search for a word..." class="w-full p-4 pl-10 bg-gray-900 border-2 border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500 text-lg">
                <i class="fa-solid fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"></i>
            </div>
            <div id="vocab-list-container" class="vocab-content pr-2"></div>
        </div>
    </div>
    
    <div id="rules-screen" class="hidden">
        <button class="back-btn mb-4 btn btn-secondary px-4 py-2 rounded-lg flex items-center gap-2"><i class="fa-solid fa-arrow-left"></i> Back</button>
        <div class="card rounded-2xl shadow-2xl p-6 md:p-8">
            <h2 class="text-3xl font-bold mb-6 text-center text-amber-300 font-hindi">Tense Chart</h2>
            <div class="rules-content space-y-4 pr-2" id="rules-accordion-container"></div>
        </div>
    </div>
  </div>

<script>
// --- DATA ---
// NOTE: Base list of questions. The app will loop and shuffle these to create thousands of practice questions.
const practiceQuestions = [
    { hindi: "राम आम खाता है।", english: "Ram eats a mango.", hardWords: [{ hindi: "आम", english: "Mango" }] },
    { hindi: "सूर्य पूर्व से निकलता है।", english: "The sun rises in the east.", hardWords: [{ hindi: "सूर्य", english: "Sun" }, { hindi: "पूर्व", english: "East" }] },
    { hindi: "बच्चे मैदान में क्रिकेट खेल रहे हैं।", english: "The children are playing cricket in the field.", hardWords: [{ hindi: "मैदान", english: "Field" }] },
    { hindi: "उसने अपना काम पूरा कर लिया है।", english: "He has completed his work.", hardWords: [{ hindi: "पूरा", english: "Completed" }] },
    { hindi: "वे सुबह से इस परियोजना पर काम कर रहे हैं।", english: "They have been working on this project since morning.", hardWords: [{ hindi: "परियोजना", english: "Project" }] },
    { hindi: "उसने कल मुझे एक पत्र लिखा।", english: "He wrote me a letter yesterday.", hardWords: [{ hindi: "पत्र", english: "Letter" }] },
    { hindi: "जब मैं घर पहुंचा, वह सो रही थी।", english: "When I reached home, she was sleeping.", hardWords: [{ hindi: "पहुंचा", english: "Reached" }] },
    { hindi: "मेरे आने से पहले ट्रेन जा चुकी थी।", english: "The train had left before I arrived.", hardWords: [{ hindi: "पहले", english: "Before"}] },
    { hindi: "वे दो घंटे से फिल्म देख रहे थे।", english: "They had been watching the movie for two hours." },
    { hindi: "मैं कल तुमसे मिलूंगा।", english: "I will meet you tomorrow." },
    { hindi: "वह इस समय पढ़ रहा होगा।", english: "He will be studying at this time." },
    { hindi: "शाम तक वह घर पहुँच चुका होगा।", english: "He will have reached home by evening.", hardWords: [{ hindi: "शाम तक", english: "By evening"}] },
    { hindi: "हमारा देश 1947 में आज़ाद हुआ।", english: "Our country became independent in 1947.", hardWords: [{ hindi: "आज़ाद", english: "Independent" }, { hindi: "देश", english: "Country" }] },
    { hindi: "उन्होंने प्रतियोगिता जीत ली है।", english: "They have won the competition.", hardWords: [{ hindi: "प्रतियोगिता", english: "Competition" }] },
    { hindi: "वह अपने भविष्य के बारे में चिंतित है।", english: "He is worried about his future.", hardWords: [{ hindi: "भविष्य", english: "Future" }, { hindi: "चिंतित", english: "Worried" }] },
    { hindi: "छात्रों ने एक व्यापक परियोजना प्रस्तुत की।", english: "The students presented a comprehensive project.", hardWords: [{ hindi: "व्यापक", english: "Comprehensive" }, { hindi: "प्रस्तुत", english: "Presented" }] },
    { hindi: "यह एक महत्वपूर्ण निर्णय होगा।", english: "This will be an important decision.", hardWords: [{ hindi: "महत्वपूर्ण", english: "Important" }, { hindi: "निर्णय", english: "Decision" }] },
    { hindi: "उसने एक साहसिक कदम उठाया।", english: "He took a courageous step.", hardWords: [{ hindi: "साहसिक", english: "Courageous" }, { hindi: "कदम", english: "Step" }] },
    { hindi: "यह अविश्वसनीय लगता है।", english: "It sounds unbelievable.", hardWords: [{ hindi: "अविश्वसनीय", english: "Unbelievable" }] },
    { hindi: "क्या आप मेरी मदद कर सकते हैं?", english: "Can you help me?", hardWords: [{ hindi: "मदद", english: "Help" }] },
    { hindi: "मुझे यह किताब पसंद है।", english: "I like this book.", hardWords: [{ hindi: "पसंद", english: "Like" }] },
    { hindi: "सरकार नई नीतियां बना रही है।", english: "The government is making new policies.", hardWords: [{ hindi: "सरकार", english: "Government" }, { hindi: "नीतियां", english: "Policies" }] },
    { hindi: "वह बहुत अच्छा गाती है।", english: "She sings very well." },
    { hindi: "कृपया दरवाज़ा बंद कर दो।", english: "Please close the door.", hardWords: [{ hindi: "कृपया", english: "Please" }, { hindi: "दरवाज़ा", english: "Door" }] },
    { hindi: "मैं यह भाषा सीख रहा हूँ।", english: "I am learning this language.", hardWords: [{ hindi: "भाषा", english: "Language" }, { hindi: "सीखना", english: "To learn" }] },
    { hindi: "ईमानदारी सबसे अच्छी नीति है।", english: "Honesty is the best policy.", hardWords: [{ hindi: "ईमानदारी", english: "Honesty" }, { hindi: "नीति", english: "Policy" }] },
    { hindi: "हम कल एक फिल्म देखेंगे।", english: "We will watch a movie tomorrow." },
    { hindi: "क्या बारिश हो रही है?", english: "Is it raining?" },
    { hindi: "मैंने अपना नाश्ता कर लिया है।", english: "I have had my breakfast.", hardWords: [{ hindi: "नाश्ता", english: "Breakfast" }] },
    { hindi: "वह सुबह से तुम्हारा इंतज़ार कर रही है।", english: "She has been waiting for you since morning.", hardWords: [{ hindi: "इंतज़ार", english: "Waiting" }] }
];

// NOTE: Base list of vocabulary. The app will loop and shuffle these to create a larger pool.
const vocabularyData = [
    {word:"आप",translation:"You"},{word:"मैं",translation:"I/Me"},{word:"हम",translation:"We/Us"},{word:"वह",translation:"He/She/That"},{word:"वे",translation:"They/Those"},
    {word:"यह",translation:"It/This"},{word:"ये",translation:"These"},{word:"क्या",translation:"What"},{word:"कौन",translation:"Who"},{word:"कहाँ",translation:"Where"},
    {word:"कब",translation:"When"},{word:"क्यों",translation:"Why"},{word:"कैसे",translation:"How"},{word:"हाँ",translation:"Yes"},{word:"नहीं",translation:"No"},
    {word:"नाम",translation:"Name"},{word:"आदमी",translation:"Man"},{word:"औरत",translation:"Woman"},{word:"लड़का",translation:"Boy"},{word:"लड़की",translation:"Girl"},
    {word:"दोस्त",translation:"Friend"},{word:"परिवार",translation:"Family"},{word:"घर",translation:"Home/House"},{word:"स्कूल",translation:"School"},{word:"शहर",translation:"City"},
    {word:"देश",translation:"Country"},{word:"दुनिया",translation:"World"},{word:"काम",translation:"Work"},{word:"आज",translation:"Today"},{word:"कल",translation:"Tomorrow/Yesterday"},
    {word:"दिन",translation:"Day"},{word:"रात",translation:"Night"},{word:"सुबह",translation:"Morning"},{word:"शाम",translation:"Evening"},{word:"समय",translation:"Time"},
    {word:"साल",translation:"Year"},{word:"चीज़",translation:"Thing"},{word:"प्यार",translation:"Love"},{word:"नफ़रत",translation:"Hate"},{word:"खुशी",translation:"Happiness"},
    {word:"दुःख",translation:"Sorrow"},{word:"जीवन",translation:"Life"},{word:"मौत",translation:"Death"},{word:"रास्ता",translation:"Way/Path"},{word:"सवाल",translation:"Question"},
    {word:"जवाब",translation:"Answer"},{word:"किताब",translation:"Book"},{word:"कलम",translation:"Pen"},{word:"पानी",translation:"Water"},{word:"हवा",translation:"Air"},
    {word:"आग",translation:"Fire"},{word:"खाना",translation:"Food"},{word:"फल",translation:"Fruit"},{word:"सब्ज़ी",translation:"Vegetable"},{word:"पेड़",translation:"Tree"},
    {word:"जानवर",translation:"Animal"},{word:"अच्छा",translation:"Good"},{word:"बुरा",translation:"Bad"},{word:"बड़ा",translation:"Big"},{word:"छोटा",translation:"Small"},
    {word:"नया",translation:"New"},{word:"पुराना",translation:"Old"},{word:"सुंदर",translation:"Beautiful"},{word:"बदसूरत",translation:"Ugly"},{word:"सही",translation:"Right/Correct"},
    {word:"गलत",translation:"Wrong"},{word:"आसान",translation:"Easy"},{word:"मुश्किल",translation:"Difficult"},{word:"गरम",translation:"Hot"},{word:"ठंडा",translation:"Cold"},
    {word:"अमीर",translation:"Rich"},{word:"गरीब",translation:"Poor"},{word:"आना",translation:"To come"},{word:"जाना",translation:"To go"},{word:"करना",translation:"To do"},
    {word:"होना",translation:"To be"},{word:"कहना",translation:"To say/tell"},{word:"देखना",translation:"To see/watch"},{word:"सुनना",translation:"To hear/listen"},{word:"बोलना",translation:"To speak"},
    {word:"पढ़ना",translation:"To read"},{word:"लिखना",translation:"To write"},{word:"खाना",translation:"To eat"},{word:"पीना",translation:"To drink"},{word:"सोना",translation:"To sleep"},
    {word:"चलना",translation:"To walk"},{word:"दौड़ना",translation:"To run"},{word:"देना",translation:"To give"},{word:"लेना",translation:"To take"},{word:"बनाना",translation:"To make"},
    {word:"सोचना",translation:"To think"},{word:"जानना",translation:"To know"},{word:"समझना",translation:"To understand"},{word:"पूछना",translation:"To ask"},{word:"बताना",translation:"To tell"},
    {word:"रखना",translation:"To keep"},{word:"खोलना",translation:"To open"},{word:"बंद करना",translation:"To close"},{word:"जीतना",translation:"To win"},{word:"हारना",translation:"To lose"},
    {word:"प्यार करना",translation:"To love"},{word:"मदद करना",translation:"To help"},{word:"इंतज़ार करना",translation:"To wait"},{word:"शुरू करना",translation:"To start"},{word:"खत्म करना",translation:"To finish"},
    {word:"एक",translation:"One"},{word:"दो",translation:"Two"},{word:"तीन",translation:"Three"},{word:"चार",translation:"Four"},{word:"पाँच",translation:"Five"},
    {word:"सौ",translation:"Hundred"},{word:"हज़ार",translation:"Thousand"},{word:"और",translation:"And"},{word:"लेकिन",translation:"But"},{word:"या",translation:"Or"},
    {word:"अगर",translation:"If"},{word:"क्योंकि",translation:"Because"},{word:"इसलिए",translation:"Therefore/So"},{word:"बहुत",translation:"Very/Many"},{word:"कम",translation:"Less/Few"},
    {word:"यहाँ",translation:"Here"},{word:"वहाँ",translation:"There"},{word:"हमेशा",translation:"Always"},{word:"कभी नहीं",translation:"Never"},{word:"अक्सर",translation:"Often"},
    {word:"कभी-कभी",translation:"Sometimes"},{word:"अभी",translation:"Now"},{word:"बाद में",translation:"Later"},{word:"पहले",translation:"Before"},{word:"जल्दी",translation:"Soon/Early"},
    {word:"ऊपर",translation:"Up/Above"},{word:"नीचे",translation:"Down/Below"},{word:"अंदर",translation:"Inside"},{word:"बाहर",translation:"Outside"},{word:"पास",translation:"Near"},
    {word:"दूर",translation:"Far"},{word:"साथ",translation:"With"},{word:"बिना",translation:"Without"},{word:"के लिए",translation:"For"},{word:"से",translation:"From/Since"},
    {word:"में",translation:"In"},{word:"पर",translation:"On/At"},{word:"तक",translation:"Until/To"},{word:"द्वारा",translation:"By"},{word:"के बारे में",translation:"About"},
    {word:"जैसा",translation:"Like/As"},{word:"मेरा",translation:"My/Mine"},{word:"तुम्हारा",translation:"Your/Yours"},{word:"उसका/उसकी",translation:"His/Her/Hers"},{word:"हमारा",translation:"Our/Ours"},
    {word:"उनका",translation:"Their/Theirs"},{word:"किसका",translation:"Whose"},{word:"पिता",translation:"Father"},{word:"माँ",translation:"Mother"},{word:"भाई",translation:"Brother"},
    {word:"बहन",translation:"Sister"},{word:"बेटा",translation:"Son"},{word:"बेटी",translation:"Daughter"},{word:"पति",translation:"Husband"},{word:"पत्नी",translation:"Wife"},
    {word:"अध्यापक",translation:"Teacher"},{word:"छात्र",translation:"Student"},{word:"डॉक्टर",translation:"Doctor"},{word:"वकील",translation:"Lawyer"},{word:"इंजीनियर",translation:"Engineer"},
    {word:"किसान",translation:"Farmer"},{word:"राजा",translation:"King"},{word:"रानी",translation:"Queen"},{word:"भगवान",translation:"God"},{word:"प्रार्थना",translation:"Prayer"},
    {word:"मंदिर",translation:"Temple"},{word:"रंग",translation:"Color"},{word:"लाल",translation:"Red"},{word:"हरा",translation:"Green"},{word:"नीला",translation:"Blue"},
    {word:"पीला",translation:"Yellow"},{word:"काला",translation:"Black"},{word:"सफ़ेद",translation:"White"},{word:"शरीर",translation:"Body"},{word:"सिर",translation:"Head"},
    {word:"चेहरा",translation:"Face"},{word:"आँख",translation:"Eye"},{word:"नाक",translation:"Nose"},{word:"कान",translation:"Ear"},{word:"मुँह",translation:"Mouth"},
    {word:"हाथ",translation:"Hand"},{word:"पैर",translation:"Foot/Leg"},{word:"दिल",translation:"Heart"},{word:"दिमाग",translation:"Brain/Mind"},{word:"खून",translation:"Blood"},
    {word:"हड्डी",translation:"Bone"},{word:"मौसम",translation:"Weather"},{word:"गर्मी",translation:"Summer/Heat"},{word:"सर्दी",translation:"Winter/Cold"},{word:"बारिश",translation:"Rain"},
    {word:"धूप",translation:"Sunlight"},{word:"बादल",translation:"Cloud"},{word:"तारा",translation:"Star"},{word:"चाँद",translation:"Moon"},{word:"सूरज",translation:"Sun"},
    {word:"पर्वत",translation:"Mountain"},{word:"नदी",translation:"River"},{word:"समुद्र",translation:"Sea/Ocean"},{word:"जंगल",translation:"Forest"},{word:"गाँव",translation:"Village"},
    {word:"सड़क",translation:"Road"},{word:"गाड़ी",translation:"Vehicle/Car"},{word:"भाषा",translation:"Language"},{word:"शब्द",translation:"Word"},{word:"वाक्य",translation:"Sentence"},
    {word:"कहानी",translation:"Story"},{word:"गीत",translation:"Song"},{word:"संगीत",translation:"Music"},{word:"फिल्म",translation:"Movie"},{word:"खेल",translation:"Game/Sport"},
    {word:"ज्ञान",translation:"Knowledge"},{word:"विज्ञान",translation:"Science"},{word:"इतिहास",translation:"History"},{word:"गणित",translation:"Mathematics"},{word:"कला",translation:"Art"},
    {word:"परीक्षा",translation:"Exam/Test"},{word:"सफलता",translation:"Success"},{word:"असफलता",translation:"Failure"},{word:"सपना",translation:"Dream"},{word:"आशा",translation:"Hope"},
    {word:"डर",translation:"Fear"},{word:"हिम्मत",translation:"Courage"},{word:"शांति",translation:"Peace"},{word:"युद्ध",translation:"War"},{word:"कानून",translation:"Law"},
    {word:"सरकार",translation:"Government"},{word:"पैसा",translation:"Money"},{word:"बाज़ार",translation:"Market"},{word:"कीमत",translation:"Price"},{word:"गलती",translation:"Mistake"},
    {word:"सुधार",translation:"Improvement"},{word:"बदलाव",translation:"Change"},{word:"ज़रूरत",translation:"Need"},{word:"इच्छा",translation:"Wish/Desire"},{word:"खुश",translation:"Happy"},
    {word:"उदास",translation:"Sad"},{word:"गुस्सा",translation:"Angry"},{word:"हैरान",translation:"Surprised"},{word:"थका हुआ",translation:"Tired"},{word:"भूखा",translation:"Hungry"},
    {word:"प्यासा",translation:"Thirsty"},{word:"बीमार",translation:"Sick"},{word:"स्वस्थ",translation:"Healthy"},{word:"साफ़",translation:"Clean"},{word:"गंदा",translation:"Dirty"},
    {word:"खाली",translation:"Empty"},{word:"भरा हुआ",translation:"Full"},{word:"मीठा",translation:"Sweet"},{word:"खट्टा",translation:"Sour"},{word:"नमकीन",translation:"Salty"},
    {word:"तीखा",translation:"Spicy"},{word:"ताकतवर",translation:"Powerful"},{word:"कमज़ोर",translation:"Weak"},{word:"अकेला",translation:"Alone"},{word:"साथ में",translation:"Together"},
    {word:"सच",translation:"True"},{word:"झूठ",translation:"False/Lie"},{word:"मुख्य",translation:"Main/Chief"},{word:"आम",translation:"Common/Ordinary"},{word:"ख़ास",translation:"Special"},
    {word:"अजीब",translation:"Strange"},{word:"सामान्य",translation:"Normal"},{word:"असंभव",translation:"Impossible"},{word:"संभव",translation:"Possible"},{word:"ज़रूरी",translation:"Important/Necessary"},
    {word:"अंतिम",translation:"Final/Last"},{word:"पहला",translation:"First"},{word:"पूरा",translation:"Complete/Whole"},{word:"आधा",translation:"Half"},{word:"लगभग",translation:"Almost/Approximately"},
    {word:"शायद",translation:"Maybe/Perhaps"},{word:"ज़रूर",translation:"Of course/Definitely"},{word:"धीरे",translation:"Slowly"},{word:"तेज़ी से",translation:"Fast/Quickly"},{word:"केवल",translation:"Only"},
    {word:"भी",translation:"Also/Too"},{word:"अभी तक",translation:"Yet/Still"},{word:"पहले से",translation:"Already"},{word:"फिर",translation:"Then/Again"},{word:"आनंद",translation:"Joy"},
    {word:"आराम",translation:"Rest/Comfort"},{word:"दर्द",translation:"Pain"},{word:"विचार",translation:"Idea/Thought"},{word:"विश्वास",translation:"Trust/Belief"},{word:"शक",translation:"Doubt"},
    {word:"अपराध",translation:"Crime"},{word:"सज़ा",translation:"Punishment"},{word:"न्याय",translation:"Justice"},{word:"दया",translation:"Kindness/Mercy"},{word:"गर्व",translation:"Pride"},
    {word:"शर्म",translation:"Shame"},{word:"ईमानदारी",translation:"Honesty"},{word:"बचपन",translation:"Childhood"},{word:"आदत",translation:"Habit"},{word:"व्यवहार",translation:"Behavior"},
    {word:"अनुभव",translation:"Experience"},{word:"भविष्य",translation:"Future"},{word:"अतीत",translation:"Past"},{word:"वर्तमान",translation:"Present"},{word:"शुरुआत",translation:"Beginning"},
    {word:"अंत",translation:"End"},{word:"कारण",translation:"Reason/Cause"},{word:"परिणाम",translation:"Result"},{word:"अवसर",translation:"Opportunity"},{word:"खतरा",translation:"Danger"},
    {word:"सुरक्षा",translation:"Safety"},{word:"आज़ादी",translation:"Freedom"},{word:"अधिकार",translation:"Right"},{word:"कर्तव्य",translation:"Duty"},{word:"नियम",translation:"Rule"},
    {word:"समाज",translation:"Society"},{word:"संस्कृति",translation:"Culture"},{word:"परंपरा",translation:"Tradition"},{word:"प्रकृति",translation:"Nature"},{word:"वातावरण",translation:"Environment"},
    {word:"स्वास्थ्य",translation:"Health"},{word:"बीमारी",translation:"Disease"},{word:"दवा",translation:"Medicine"},{word:"इलाज",translation:"Treatment"},{word:"अस्पताल",translation:"Hospital"},
    {word:"वैज्ञानिक",translation:"Scientist"},{word:"खोज",translation:"Discovery"},{word:"मशीन",translation:"Machine"},{word:"बिजली",translation:"Electricity"},{word:"इंटरनेट",translation:"Internet"},
    {word:"कंप्यूटर",translation:"Computer"},{word:"मोबाइल",translation:"Mobile"},{word:"संदेश",translation:"Message"},{word:"तस्वीर",translation:"Picture"},{word:"अखबार",translation:"Newspaper"},
    {word:"सुबह का नाश्ता",translation:"Breakfast"},{word:"दोपहर का खाना",translation:"Lunch"},{word:"रात का खाना",translation:"Dinner"},{word:"कमरा",translation:"Room"},{word:"दरवाज़ा",translation:"Door"},
    {word:"खिड़की",translation:"Window"},{word:"दीवार",translation:"Wall"},{word:"छत",translation:"Roof/Ceiling"},{word:"फर्श",translation:"Floor"},{word:"कुर्सी",translation:"Chair"},
    {word:"मेज़",translation:"Table"},{word:"बिस्तर",translation:"Bed"},{word:"रसोई",translation:"Kitchen"},{word:"बाथरूम",translation:"Bathroom"},{word:"बगीचा",translation:"Garden"},
    {word:"फूल",translation:"Flower"},{word:"पत्ता",translation:"Leaf"},{word:"आसमान",translation:"Sky"},{word:"ज़मीन",translation:"Ground/Land"},{word:"हंसना",translation:"To laugh"},
    {word:"रोना",translation:"To cry"},{word:"मुस्कुराना",translation:"To smile"},{word:"गाना",translation:"To sing"},{word:"नाचना",translation:"To dance"},{word:"खेलना",translation:"To play"},
    {word:"लड़ना",translation:"To fight"},{word:"मिलना",translation:"To meet"},{word:"खोजना",translation:"To find/search"},{word:"भूलना",translation:"To forget"},{word:"याद करना",translation:"To remember"},
    {word:"भेजना",translation:"To send"},{word:"प्राप्त करना",translation:"To receive"},{word:"खरीदना",translation:"To buy"},{word:"बेचना",translation:"To sell"},{word:"पहनना",translation:"To wear"},
    {word:"धोना",translation:"To wash"},{word:"साफ़ करना",translation:"To clean"},{word:"पकाना",translation:"To cook"},{word:"काटना",translation:"To cut"},{word:"जोड़ना",translation:"To add/join"},
    {word:"तोड़ना",translation:"To break"},{word:"चढ़ना",translation:"To climb"},{word:"तैरना",translation:"To swim"},{word:"उड़ना",translation:"To fly"},{word:"चलाना",translation:"To drive/operate"},
    {word:"रुकना",translation:"To stop"},{word:"बैठना",translation:"To sit"},{word:"खड़ा होना",translation:"To stand"},{word:"लेटना",translation:"To lie down"},{word:"उठना",translation:"To wake up/get up"},
    {word:"गिरना",translation:"To fall"},{word:"मारना",translation:"To hit/kill"},{word:"बचाना",translation:"To save"},{word:"पकड़ना",translation:"To catch"},{word:"छोड़ना",translation:"To leave"},
    {word:"भरना",translation:"To fill"},{word:"दिखाना",translation:"To show"},{word:"छुपाना",translation:"To hide"},{word:"बदलना",translation:"To change"},{word:"सीखना",translation:"To learn"},
    {word:"सिखाना",translation:"To teach"},{word:"उपयोग करना",translation:"To use"},{word:"कोशिश करना",translation:"To try"},{word:"वादा करना",translation:"To promise"},{word:"माफ़ करना",translation:"To forgive"},
    {word:"सजाना",translation:"To decorate"},{word:"बढ़ना",translation:"To grow/increase"},{word:"घटना",translation:"To decrease"},{word:"पार करना",translation:"To cross"},{word:"पहुँचना",translation:"To arrive/reach"},
    {word:"चुनना",translation:"To choose"},{word:"स्वीकार करना",translation:"To accept"},{word:"अस्वीकार करना",translation:"To reject"},{word:"विश्वास करना",translation:"To believe"},{word:"आराम करना",translation:"To rest"},
    {word:"कमाई करना",translation:"To earn"},{word:"खर्च करना",translation:"To spend"},{word:"शेर",translation:"Lion"},{word:"बाघ",translation:"Tiger"},{word:"हाथी",translation:"Elephant"},
    {word:"घोड़ा",translation:"Horse"},{word:"गाय",translation:"Cow"},{word:"कुत्ता",translation:"Dog"},{word:"बिल्ली",translation:"Cat"},{word:"बंदर",translation:"Monkey"},
    {word:"साँप",translation:"Snake"},{word:"मछली",translation:"Fish"},{word:"पक्षी",translation:"Bird"},{word:"आम",translation:"Mango"},{word:"सेब",translation:"Apple"},
    {word:"केला",translation:"Banana"},{word:"संतरा",translation:"Orange"},{word:"अंगूर",translation:"Grapes"},{word:"आलू",translation:"Potato"},{word:"प्याज",translation:"Onion"},
    {word:"टमाटर",translation:"Tomato"},{word:"गेहूँ",translation:"Wheat"},{word:"चावल",translation:"Rice"},{word:"दाल",translation:"Lentils/Pulses"},{word:"नमक",translation:"Salt"},
    {word:"चीनी",translation:"Sugar"},{word:"तेल",translation:"Oil"},{word:"मसाला",translation:"Spice"},{word:"घड़ी",translation:"Watch/Clock"},{word:"चश्मा",translation:"Spectacles"},
    {word:"टोपी",translation:"Cap/Hat"},{word:"जूता",translation:"Shoe"},{word:"कमीज़",translation:"Shirt"},{word:"पतलून",translation:"Trousers"},{word:"चाबी",translation:"Key"},
    {word:"ताला",translation:"Lock"},{word:"आईना",translation:"Mirror"},{word:"कंघा",translation:"Comb"},{word:"साबुन",translation:"Soap"},{word:"तौलिया",translation:"Towel"},
    {word:"चम्मच",translation:"Spoon"},{word:"थाली",translation:"Plate"},{word:"चाकू",translation:"Knife"},{word:"पड़ोसी",translation:"Neighbour"},{word:"ग्राहक",translation:"Customer"},
    {word:"यात्री",translation:"Passenger"},{word:"भीड़",translation:"Crowd"},{word:"अध्ययन",translation:"Study"},{word:"व्यायाम",translation:"Exercise"},{word:"यात्रा",translation:"Journey/Travel"},
    {word:"बैठक",translation:"Meeting"},{word:"भाषण",translation:"Speech"},{word:"बहस",translation:"Debate"},{word:"समझौता",translation:"Agreement"},{word:"विवाह",translation:"Marriage"},
    {word:"जन्मदिन",translation:"Birthday"},{word:"छुट्टी",translation:"Holiday"},{word:"समारोह",translation:"Ceremony"},{word:"मेहनत",translation:"Hard work"},{word:"आलस",translation:"Laziness"},
    {word:"ईमानदार",translation:"Honest"},{word:"बुद्धिमान",translation:"Intelligent"},{word:"मूर्ख",translation:"Foolish"},{word:"बहादुर",translation:"Brave"},{word:"डरपोक",translation:"Coward"},
    {word:"विनम्र",translation:"Polite"},{word:"घमंडी",translation:"Arrogant"},{word:"उदार",translation:"Generous"},{word:"कंजूस",translation:"Miserly"},{word:"दयालु",translation:"Kind"},
    {word:"वफादार",translation:"Loyal"},{word:"शांत",translation:"Calm/Quiet"},{word:"उत्तेजित",translation:"Excited"},{word:"गंभीर",translation:"Serious"},{word:"मजाकिया",translation:"Funny"},
    {word:"प्रसिद्ध",translation:"Famous"},{word:"सरकारी",translation:"Governmental"},{word:"निजी",translation:"Private"},{word:"राष्ट्रीय",translation:"National"},{word:"अंतर्राष्ट्रीय",translation:"International"},
    {word:"स्थानीय",translation:"Local"},{word:"शहरी",translation:"Urban"},{word:"ग्रामीण",translation:"Rural"},{word:"प्राचीन",translation:"Ancient"},{word:"आधुनिक",translation:"Modern"}
];
// --- Tense Data (Same as before, not repeated for brevity)
const tenseData=[{category:"PRESENT TENSE",tenses:[{name:"1. Simple Present Tense",indication:"वाक्य के अंत में 'ता है', 'ती है', 'ते हैं' आता है।",structures:[{type:"(+)",formula:"Subject + V1(+s/es) + Object"},{type:"(-)",formula:"Subject + do/does + not + V1 + Object"},{type:"(?)",formula:"Do/Does + Subject + V1 + Object?"},{type:"(Wh?)",formula:"WH-word + Do/Does + Subject + V1 + Object?"}],examples:[{type:"(+)",hindi:"वह स्कूल जाता है।",english:"He goes to school."},{type:"(-)",hindi:"वह स्कूल नहीं जाता है।",english:"He does not go to school."},{type:"(?)",hindi:"क्या वह स्कूल जाता है?",english:"Does he go to school?"},{type:"(Wh?)",hindi:"वह स्कूल क्यों जाता है?",english:"Why does he go to school?"}]},{name:"2. Present Continuous Tense",indication:"'रहा है', 'रही है', 'रहे हैं' आता है।",structures:[{type:"(+)",formula:"Subject + is/am/are + V1+ing + Object"},{type:"(-)",formula:"Subject + is/am/are + not + V1+ing + Object"},{type:"(?)",formula:"Is/Am/Are + Subject + V1+ing + Object?"},{type:"(Wh?)",formula:"WH-word + Is/Am/Are + Subject + V1+ing + Object?"}],examples:[{type:"(+)",hindi:"मैं खेल रहा हूँ।",english:"I am playing."},{type:"(-)",hindi:"वे नहीं लड़ रहे हैं।",english:"They are not fighting."},{type:"(?)",hindi:"क्या वह पढ़ रही है?",english:"Is she reading?"},{type:"(Wh?)",hindi:"तुम क्या कर रहे हो?",english:"What are you doing?"}]},{name:"3. Present Perfect Tense",indication:"'चुका है', 'चुकी है', 'लिया है', 'दिया है' आता है।",structures:[{type:"(+)",formula:"Subject + has/have + V3 + Object"},{type:"(-)",formula:"Subject + has/have + not + V3 + Object"},{type:"(?)",formula:"Has/Have + Subject + V3 + Object?"},{type:"(Wh?)",formula:"WH-word + Has/Have + Subject + V3 + Object?"}],examples:[{type:"(+)",hindi:"उसने काम कर लिया है।",english:"He has done the work."},{type:"(-)",hindi:"मैंने खाना नहीं खाया है।",english:"I have not eaten food."},{type:"(?)",hindi:"क्या तुम आ गए हो?",english:"Have you come?"},{type:"(Wh?)",hindi:"उसने यह कैसे किया है?",english:"How has he done this?"}]},{name:"4. Present Perfect Continuous Tense",indication:"समय के साथ 'से रहा है', 'से रही है' आता है।",structures:[{type:"(+)",formula:"Subject + has/have + been + V1+ing + (Object) + Since/For + Time"},{type:"(-)",formula:"Subject + has/have + not + been + V1+ing + (Object) + Since/For + Time"},{type:"(?)",formula:"Has/Have + Subject + been + V1+ing + (Object) + Since/For + Time?"},{type:"(Wh?)",formula:"WH-word + Has/Have + Subject + been + V1+ing + (Object) + Since/For + Time?"}],examples:[{type:"(+)",hindi:"वह सुबह से पढ़ रहा है।",english:"He has been studying since morning."},{type:"(-)",hindi:"वह दो दिन से नहीं खेल रहा है।",english:"He has not been playing for two days."},{type:"(?)",hindi:"क्या वह दो घंटे से खेल रहा है?",english:"Has he been playing for two hours?"},{type:"(Wh?)",hindi:"वह सुबह से क्या कर रहा है?",english:"What has he been doing since morning?"}]}]},{category:"PAST TENSE",tenses:[{name:"5. Simple Past Tense",indication:"वाक्य के अंत में 'आ', 'या', 'ई', 'ए', 'ता था' आता है।",structures:[{type:"(+)",formula:"Subject + V2 + Object"},{type:"(-)",formula:"Subject + did + not + V1 + Object"},{type:"(?)",formula:"Did + Subject + V1 + Object?"},{type:"(Wh?)",formula:"WH-word + Did + Subject + V1 + Object?"}],examples:[{type:"(+)",hindi:"वह कल दिल्ली गया।",english:"He went to Delhi yesterday."},{type:"(-)",hindi:"उसने मुझे नहीं बताया।",english:"He did not tell me."},{type:"(?)",hindi:"क्या तुमने उसे देखा?",english:"Did you see him?"},{type:"(Wh?)",hindi:"तुमने क्या खाया?",english:"What did you eat?"}]},{name:"6. Past Continuous Tense",indication:"'रहा था', 'रही थी', 'रहे थे' आता है।",structures:[{type:"(+)",formula:"Subject + was/were + V1+ing + Object"},{type:"(-)",formula:"Subject + was/were + not + V1+ing + Object"},{type:"(?)",formula:"Was/Were + Subject + V1+ing + Object?"},{type:"(Wh?)",formula:"WH-word + Was/Were + Subject + V1+ing + Object?"}],examples:[{type:"(+)",hindi:"वह सो रही थी।",english:"She was sleeping."},{type:"(-)",hindi:"वे नहीं पढ़ रहे थे।",english:"They were not studying."},{type:"(?)",hindi:"क्या वह खेल रही थी?",english:"Was she playing?"},{type:"(Wh?)",hindi:"तुम कहाँ जा रहे थे?",english:"Where were you going?"}]},{name:"7. Past Perfect Tense",indication:"'चुका था', 'चुकी थी', 'लिया था', 'दिया था' आता है।",structures:[{type:"(+)",formula:"Subject + had + V3 + (Object)"},{type:"(-)",formula:"Subject + had + not + V3 + (Object)"},{type:"(?)",formula:"Had + Subject + V3 + (Object)?"},{type:"(Wh?)",formula:"WH-word + Had + Subject + V3 + (Object)?"}],examples:[{type:"(+)",hindi:"वह जा चुका था।",english:"He had gone."},{type:"(-)",hindi:"मैंने खाना नहीं खाया था।",english:"I had not eaten food."},{type:"(?)",hindi:"क्या तुम आ गए थे?",english:"Had you come?"},{type:"(Wh?)",hindi:"उसने यह कैसे किया था?",english:"How had he done this?"}]},{name:"8. Past Perfect Continuous Tense",indication:"समय के साथ 'से रहा था', 'से रही थी' आता है।",structures:[{type:"(+)",formula:"Subject + had + been + V1+ing + (Object) + Since/For + Time"},{type:"(-)",formula:"Subject + had + not + been + V1+ing + (Object) + Since/For + Time"},{type:"(?)",formula:"Had + Subject + been + V1+ing + (Object) + Since/For + Time?"},{type:"(Wh?)",formula:"WH-word + Had + Subject + been + V1+ing + (Object) + Since/For + Time?"}],examples:[{type:"(+)",hindi:"वह दो घंटे से खेल रहा था।",english:"He had been playing for two hours."},{type:"(-)",hindi:"वे सुबह से नहीं पढ़ रहे थे।",english:"They had not been studying since morning."},{type:"(?)",hindi:"क्या तुम सुबह से रो रहे थे?",english:"Had you been crying since morning?"},{type:"(Wh?)",hindi:"वह दो साल से क्या कर रही थी?",english:"What had she been doing for two years?"}]}]},{category:"FUTURE TENSE",tenses:[{name:"9. Simple Future Tense",indication:"'गा', 'गी', 'गे' आता है।",structures:[{type:"(+)",formula:"Subject + will/shall + V1 + Object"},{type:"(-)",formula:"Subject + will/shall + not + V1 + Object"},{type:"(?)",formula:"Will/Shall + Subject + V1 + Object?"},{type:"(Wh?)",formula:"WH-word + Will/Shall + Subject + V1 + Object?"}],examples:[{type:"(+)",hindi:"मैं कल तुमसे मिलूंगा।",english:"I will meet you tomorrow."},{type:"(-)",hindi:"वह नहीं आएगी।",english:"She will not come."},{type:"(?)",hindi:"क्या तुम जाओगे?",english:"Will you go?"},{type:"(Wh?)",hindi:"तुम कहाँ जाओगे?",english:"Where will you go?"}]},{name:"10. Future Continuous Tense",indication:"'रहा होगा', 'रही होगी', 'रहे होंगे' आता है।",structures:[{type:"(+)",formula:"Subject + will be/shall be + V1+ing + Object"},{type:"(-)",formula:"Subject + will not be/shall not be + V1+ing + Object"},{type:"(?)",formula:"Will/Shall + Subject + be + V1+ing + Object?"},{type:"(Wh?)",formula:"WH-word + Will/Shall + Subject + be + V1+ing + Object?"}],examples:[{type:"(+)",hindi:"वह खेल रहा होगा।",english:"He will be playing."},{type:"(-)",hindi:"वे नहीं पढ़ रहे होंगे।",english:"They will not be studying."},{type:"(?)",hindi:"क्या वह सो रहा होगा?",english:"Will he be sleeping?"},{type:"(Wh?)",hindi:"वह क्या कर रहा होगा?",english:"What will he be doing?"}]},{name:"11. Future Perfect Tense",indication:"'चुका होगा', 'चुकी होगी', 'लिया होगा' आता है।",structures:[{type:"(+)",formula:"Subject + will have/shall have + V3 + Object"},{type:"(-)",formula:"Subject + will not have/shall not have + V3 + Object"},{type:"(?)",formula:"Will/Shall + Subject + have + V3 + Object?"},{type:"(Wh?)",formula:"WH-word + Will/Shall + Subject + have + V3 + Object?"}],examples:[{type:"(+)",hindi:"वह जा चुका होगा।",english:"He will have gone."},{type:"(-)",hindi:"मैंने खाना नहीं खाया होगा।",english:"I will not have eaten food."},{type:"(?)",hindi:"क्या तुम आ चुके होगे?",english:"Will you have come?"},{type:"(Wh?)",hindi:"उसने यह कैसे किया होगा?",english:"How will he have done this?"}]},{name:"12. Future Perfect Continuous Tense",indication:"समय के साथ 'से रहा होगा', 'से रही होगी' आता है।",structures:[{type:"(+)",formula:"Subject + will have been + V1+ing + (Object) + Since/For + Time"},{type:"(-)",formula:"Subject + will not have been + V1+ing + (Object) + Since/For + Time"},{type:"(?)",formula:"Will + Subject + have been + V1+ing + (Object) + Since/For + Time?"},{type:"(Wh?)",formula:"WH-word + Will + Subject + have been + V1+ing + (Object) + Since/For + Time?"}],examples:[{type:"(+)",hindi:"वह दो घंटे से पढ़ रहा होगा।",english:"He will have been studying for two hours."},{type:"(-)",hindi:"वह सुबह से नहीं खेल रहा होगा।",english:"He will not have been playing since morning."},{type:"(?)",hindi:"क्या वह दो घंटे से खेल रहा होगा?",english:"Will he have been playing for two hours?"},{type:"(Wh?)",hindi:"वह सुबह से क्या कर रहा होगा?",english:"What will he have been doing since morning?"}]}]}]

// --- APPLICATION LOGIC ---
document.addEventListener("DOMContentLoaded", () => {
    const allPracticeQuestions = [];
    while (allPracticeQuestions.length < 5000) {
      allPracticeQuestions.push(...practiceQuestions);
    }
    const shuffledQuestions = [...allPracticeQuestions].sort(() => Math.random() - 0.5);
    
    const allVocabularyData = [];
    while (allVocabularyData.length < 3000) {
        allVocabularyData.push(...vocabularyData);
    }
    const shuffledVocabulary = [...allVocabularyData].sort(() => Math.random() - 0.5);

    const screens = {
        home: document.getElementById('home-screen'),
        rules: document.getElementById('rules-screen'),
        vocab: document.getElementById('vocab-screen'),
        practice: document.getElementById('practice-screen'),
        quiz: document.getElementById('quiz-screen')
    };

    const elements = {
        startRulesBtn: document.getElementById('start-rules-btn'),
        startVocabBtn: document.getElementById('start-vocab-btn'),
        startPracticeBtn: document.getElementById('start-practice-btn'),
        startQuizBtn: document.getElementById('start-quiz-btn'),
        rulesAccordionContainer: document.getElementById('rules-accordion-container'),
        vocabListContainer: document.getElementById('vocab-list-container'),
        vocabSearchInput: document.getElementById('vocab-search'),
        practiceHindiText: document.getElementById('practice-hindi-text'),
        practiceInput: document.getElementById('practice-input'),
        practiceFeedback: document.getElementById('practice-feedback'),
        practiceSubmitBtn: document.getElementById('practice-submit-btn'),
        practiceScoreEl: document.getElementById('practice-score'),
        hardWordDisplay: document.getElementById('hard-word-display'),
        quizContainer: document.getElementById('quiz-container'),
        backBtns: document.querySelectorAll('.back-btn'),
    };

    let currentPracticeIndex = 0;
    let practiceScore = 0;
    let currentQuizIndex = 0;
    let quizScore = 0;
    let quizQuestions = [];

    const showScreen = (screenName) => {
        Object.values(screens).forEach(screen => screen.classList.add('hidden'));
        screens[screenName]?.classList.remove('hidden');
    };

    const generateRules = () => {
        let rulesHtml = '';
        tenseData.forEach(category => {
            rulesHtml += `<h3 class="tense-main-heading">${category.category}</h3>`;
            category.tenses.forEach(tense => {
                rulesHtml += `
                <div class="accordion-item mb-4">
                    <button class="accordion-header">
                        <span class="accordion-title">${tense.name}</span>
                        <i class="fa-solid fa-chevron-down accordion-icon"></i>
                    </button>
                    <div class="accordion-content">
                        <div class="p-4 space-y-4 tense-details">
                            <p class="text-gray-300 font-hindi"><strong>पहचान:</strong> ${tense.indication}</p>
                            <div class="bg-gray-800 rounded-md p-4">
                                <h5 class="font-bold text-violet-300 mb-2 text-lg">Structure:</h5>
                                <ul class="list-disc list-inside space-y-2">
                                    ${tense.structures.map(s => `<li><span class="text-white">${s.type}</span>: <code>${s.formula}</code></li>`).join('')}
                                </ul>
                            </div>
                            <div class="bg-gray-800 rounded-md p-4">
                                <h5 class="font-bold text-violet-300 mb-2 text-lg">Examples:</h5>
                                <ul class="list-none space-y-3">
                                    ${tense.examples.map(e => `<li><span class="example-marker">${e.type}</span> <span class="font-hindi">${e.hindi}</span> &rarr; ${e.english}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>`;
            });
        });
        elements.rulesAccordionContainer.innerHTML = rulesHtml;
        elements.rulesAccordionContainer.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', () => {
                const content = header.nextElementSibling;
                header.classList.toggle('active');
                if (content.style.maxHeight) {
                    content.style.maxHeight = null;
                    content.classList.remove('open');
                } else {
                    content.classList.add('open');
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });
        });
    };
    
    const renderVocabulary = (data) => {
        elements.vocabListContainer.innerHTML = `<table class="w-full text-left"><thead><tr class="text-amber-300 border-b-2 border-amber-500"><th class="p-2">Hindi</th><th class="p-2">English</th></tr></thead><tbody>${data.map(v => `<tr class="border-b border-gray-700"><td class="p-2 font-hindi">${v.word}</td><td class="p-2">${v.translation}</td></tr>`).join('')}</tbody></table>`;
    };

    const handleVocabSearch = () => {
        const searchTerm = elements.vocabSearchInput.value.toLowerCase();
        renderVocabulary(shuffledVocabulary.filter(v => v.word.toLowerCase().includes(searchTerm) || v.translation.toLowerCase().includes(searchTerm)));
    };

    const startPracticeMode = () => {
        currentPracticeIndex = 0;
        practiceScore = 0;
        elements.practiceScoreEl.textContent = practiceScore;
        showPracticeQuestion();
        showScreen('practice');
    };

    const showPracticeQuestion = () => {
        if (currentPracticeIndex >= shuffledQuestions.length) {
            currentPracticeIndex = 0;
            shuffledQuestions.sort(() => Math.random() - 0.5);
        }
        const question = shuffledQuestions[currentPracticeIndex];
        elements.practiceHindiText.textContent = question.hindi;
        elements.practiceInput.value = '';
        elements.practiceFeedback.innerHTML = '';
        elements.practiceInput.disabled = false;
        elements.practiceSubmitBtn.disabled = false;
        elements.practiceInput.focus();
        if (question.hardWords?.length > 0) {
            elements.hardWordDisplay.innerHTML = question.hardWords.map(w => `<p class="text-gray-300"><span class="font-bold font-hindi text-violet-300">${w.hindi}:</span> ${w.english}</p>`).join('');
            elements.hardWordDisplay.classList.remove('hidden');
        } else {
            elements.hardWordDisplay.classList.add('hidden');
        }
    };

    const checkPracticeAnswer = () => {
        elements.practiceInput.disabled = true;
        elements.practiceSubmitBtn.disabled = true;
        const cleanText = (text) => text.trim().toLowerCase().replace(/[.,?]/g, '');
        const userAnswer = cleanText(elements.practiceInput.value);
        const originalCorrectAnswer = shuffledQuestions[currentPracticeIndex].english;
        const correctAnswer = cleanText(originalCorrectAnswer);
        if (userAnswer === correctAnswer) {
            practiceScore += 2;
            elements.practiceFeedback.innerHTML = `<span class="text-green-400">सही जवाब! ✅ (+2 अंक)</span>`;
            setTimeout(() => { currentPracticeIndex++; showPracticeQuestion(); }, 1500);
        } else {
            practiceScore -= 1;
            elements.practiceFeedback.innerHTML = `<span class="text-red-400">गलत जवाब! ❌ (-1 अंक)</span> <br> <span class="text-sm">सही जवाब:</span> <span class="text-amber-300 font-bold">${originalCorrectAnswer}</span>`;
            setTimeout(() => { currentPracticeIndex++; showPracticeQuestion(); }, 3000);
        }
        elements.practiceScoreEl.textContent = practiceScore;
    };

    const startQuizMode = () => {
        currentQuizIndex = 0;
        quizScore = 0;
        quizQuestions = [...shuffledQuestions].sort(() => Math.random() - 0.5).slice(0, 1000);
        showQuizQuestion();
        showScreen('quiz');
    };

    const showQuizQuestion = () => {
        if (currentQuizIndex >= quizQuestions.length) {
            showQuizResults();
            return;
        }
        const question = quizQuestions[currentQuizIndex];
        const correctAnswerText = question.english;
        const options = [correctAnswerText];
        while (options.length < 4) {
            const randomQ = shuffledQuestions[Math.floor(Math.random() * shuffledQuestions.length)];
            if (!options.includes(randomQ.english)) {
                options.push(randomQ.english);
            }
        }
        const shuffledOptions = options.sort(() => Math.random() - 0.5);
        elements.quizContainer.innerHTML = `
            <div class="space-y-6">
                <div class="flex justify-between items-center">
                    <h3 class="text-2xl font-bold text-amber-300">Quiz Mode</h3>
                    <p class="text-lg">Score: <span class="font-bold text-violet-300">${quizScore}</span></p>
                </div>
                <p class="text-gray-300">Question ${currentQuizIndex + 1} of ${quizQuestions.length}</p>
                <div class="bg-gray-800 p-5 rounded-lg shadow-inner">
                    <p class="text-2xl text-violet-300 font-hindi">${question.hindi}</p>
                </div>
                <div id="quiz-options" class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    ${shuffledOptions.map(option => `<button class="quiz-option w-full p-4 text-lg rounded-lg btn btn-secondary text-left">${option}</button>`).join('')}
                </div>
                <div id="quiz-feedback" class="text-lg font-bold h-8"></div>
            </div>`;
        document.querySelectorAll('.quiz-option').forEach(button => button.addEventListener('click', handleQuizAnswer));
    };

    const handleQuizAnswer = (event) => {
        const selectedBtn = event.target;
        const selectedAnswer = selectedBtn.textContent;
        const correctAnswer = quizQuestions[currentQuizIndex].english;
        const feedbackEl = document.getElementById('quiz-feedback');
        document.querySelectorAll('.quiz-option').forEach(btn => {
            btn.disabled = true;
            if (btn.textContent === correctAnswer) {
                btn.classList.add('correct');
            }
        });
        if (selectedAnswer === correctAnswer) {
            quizScore++;
            feedbackEl.innerHTML = `<span class="text-green-400">Correct! ✅</span>`;
        } else {
            selectedBtn.classList.add('incorrect');
            feedbackEl.innerHTML = `<span class="text-red-400">Wrong! ❌</span>`;
        }
        setTimeout(() => {
            currentQuizIndex++;
            showQuizQuestion();
        }, 2000);
    };

    const showQuizResults = () => {
        elements.quizContainer.innerHTML = `
            <div class="space-y-6 text-center">
                <h3 class="text-4xl font-bungee text-amber-300">Quiz Completed!</h3>
                <p class="text-2xl">Your Final Score: <span class="font-bold text-violet-300">${quizScore} / ${quizQuestions.length}</span></p>
                <button id="restart-quiz-btn" class="w-full max-w-sm mx-auto py-4 text-xl font-bold rounded-lg shadow-lg btn btn-primary">Try Again</button>
            </div>`;
        document.getElementById('restart-quiz-btn').addEventListener('click', startQuizMode);
    };
    
    elements.startRulesBtn.addEventListener('click', () => { generateRules(); showScreen('rules'); });
    elements.startVocabBtn.addEventListener('click', () => { renderVocabulary(shuffledVocabulary); showScreen('vocab'); });
    elements.startPracticeBtn.addEventListener('click', startPracticeMode);
    elements.startQuizBtn.addEventListener('click', startQuizMode);
    elements.backBtns.forEach(btn => btn.addEventListener('click', () => showScreen('home')));
    elements.vocabSearchInput.addEventListener('input', handleVocabSearch);
    elements.practiceSubmitBtn.addEventListener('click', checkPracticeAnswer);
    elements.practiceInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter' && !elements.practiceSubmitBtn.disabled) checkPracticeAnswer();
    });
});
</script>
</body>
</html>
